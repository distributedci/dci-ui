<div class="container-fluid">
  <div class="row">
    <div class="col-xs-12">
      <h1 class="page-header">
        Components
        <span class="ml-3">
          <label for="componentsSearch"><i class="fa fa-search"></i></label>
          <input id="componentsSearch" type="search" style="border: none" ng-model="$ctrl.componentsSearch">
        </span>
      </h1>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <dci-loading ng-hide="$ctrl.components"></dci-loading>
      <div ng-if="$ctrl.components">
        <table class="table table-striped table-bordered table-hover">
          <thead>
          <tr>
            <th>Name</th>
            <th>Url</th>
            <th>Type</th>
            <th class="text-center">Export control</th>
            <th>Topic</th>
          </tr>
          </thead>
          <tr ng-repeat="component in $ctrl.components | orderBy: 'topic.name' | filter: $ctrl.componentsSearch">
            <td>
              {{component.name}}
            </td>
            <td>
              {{component.url}}
            </td>
            <td>
              {{component.type}}
            </td>
            <td class="text-center">
              <span ng-if="component.export_control">
                <i class="fa fa-check-circle fa-lg text-success"></i>
              </span>
            </td>
            <td>
              <a ng-if="$ctrl.currentUser.isSuperAdminOrProductOwner"
                 ui-sref="auth.topicEdit({id: topic.id})">
                {{component.topic.name}}
              </a>
              <span ng-hide="$ctrl.currentUser.isSuperAdminOrProductOwner">
                {{component.topic.name}}
              </span>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
