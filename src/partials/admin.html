<h1 class="page-header">Administration</h1>
<div class="col-md-12">
  <div tabset>
    <div tab heading="Users">
      <h2 class="page-header">Users list</h2>
      <div class="users-list">
        <div class="table-responsive">
          <table class="table table-striped">
            <tr><th>Username</th><th>User ID</th><th>Team ID</th><th>Role</th><th>Date</th><th>Actions</th></tr>
            <tr ng-repeat="user in users"><td>{{ user.name }}</td><td>{{ user.id }}</td><td>{{ user.team_id }}</td><td>{{ user.role }}</td><td>{{ user.created_at }}</td><td><span class="btn glyphicon glyphicon-trash" ng-click="remove_user(user, $index)"></span></td></tr>
          </table>
        </div>
      </div>
      <h2 class="page-header">Create user</h2>
      <form name="userForm" ng-submit="submitUser()" novalidate>
        <div class="form-group"
         ng-class="{'has-error': showError(userForm, userForm.userName)}">
          <label class="control-label" for="user-name">Name</label>
          <input type="text" class="form-control" id="user-name" name="userName"
                 ng-model="user.name" required>
        </div>
        <div class="form-group"
         ng-class="{'has-error': showError(userForm, userForm.userPassword)}">
          <label class="control-label" for="user-password">Password</label>
          <input type="password" class="form-control" id="user-password"
                 name="userPassword" ng-model="user.password" required>
        </div>
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="user.admin"> Admin
          </label>
        </div>
        <div class="form-group">
          <label for="user-team" class="control-label">Team</label>
          <select class="form-control" id="user-team" name="userTeam"
                  ng-options="team.id as team.name for team in teams"
                  ng-model="user.team">
          </select>
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      <div class="alerts">
        <div ng-repeat="alert in alerts.user">
          <div alert type="{{alert.type}}" close="closeAlert($index, 'user')">
              {{alert.msg}}
          </div>
        </div>
      </div>
    </div>

    <div tab heading="Teams">
      <h2 class="page-header">Teams list</h2>
      <div class="teams-list">
        <div class="table-responsive">
          <table class="table table-striped">
            <tr><th>Team name</th><th>Team ID</th><th>Date</th><th>Actions</th></tr>
            <tr ng-repeat="team in teams"><td>{{ team.name }}</td><td>{{ team.id }}</td><td>{{ team.created_at }}</td><td><span class="btn glyphicon glyphicon-trash" ng-click="remove_team(team, $index)"></span></td></tr>
          </table>
        </div>
      </div>
      <h2 class="page-header">Create team</h2>
      <form name="teamForm" ng-submit="submitTeam()" novalidate>
        <div class="form-group"
             ng-class="{'has-error': showError(teamForm, teamForm.teamName)}">
          <label for="team-name" class="control-label">Name</label>
          <input type="text" class="form-control" id="team-name" name="teamName"
                 ng-model="team.name" required>
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      <div class="alerts">
        <div ng-repeat="alert in alerts.team">
          <div alert type="{{alert.type}}" close="closeAlert($index, 'team')">
            {{alert.msg}}
          </div>
        </div>
      </div>
    </div>

    <div tab heading="RemoteCIs">
      <h2 class="page-header">RemoteCIs list</h2>
      <div class="remotecis-list">
        <div class="table-responsive">
          <table class="table table-striped">
            <tr><th>RemoteCI name</th><th>RemoteCI ID</th><th>Date</th><th>Actions</th></tr>
            <tr ng-repeat="remoteci in remotecis"><td>{{ remoteci.name }}</td><td>{{ remoteci.id }}</td><td>{{ remoteci.created_at }}</td><td><span class="btn glyphicon glyphicon-trash" ng-click="remove_remoteci(remoteci, $index)"></span></td></tr>
          </table>
        </div>
      </div>
      <h2 class="page-header">Create remote CI</h2>
      <form name="remoteciForm" ng-submit="submitRemoteCI()" novalidate>
        <div class="form-group"
             ng-class="{'has-error': showError(remoteciForm, remoteciForm.remoteciName)}">
          <label for="remoteci-name" class="control-label">Name</label>
          <input type="text" class="form-control" id="remoteci-name" name="remoteciName"
                 ng-model="remoteci.name" required>
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      <div class="alerts">
        <div ng-repeat="alert in alerts.remoteci">
          <div alert type="{{alert.type}}" close="closeAlert($index, 'remoteci')">
            {{alert.msg}}
          </div>
        </div>
      </div>
    </div>

    <div tab heading="Topics">
      <h2 class="page-header">Topics list</h2>
      <div class="topics-list">
        <div class="table-responsive">
          <table class="table table-striped">
            <tr><th>Topic name</th><th>Topic ID</th><th>Date</th><th>Actions</th></tr>
            <tr ng-repeat="topic in topics"><td>{{ topic.name }}</td><td>{{ topic.id }}</td><td>{{ topic.created_at }}</td><td><span class="btn glyphicon glyphicon-trash" ng-click="remove_topic(topics, $index)"></span></td></tr>
          </table>
        </div>
      </div>
      <h2 class="page-header">Create topic</h2>
      <form name="topicForm" ng-submit="submitTopic()" novalidate>
        <div class="form-group"
             ng-class="{'has-error': showError(topicForm, topicForm.topicName)}">
          <label for="topic-name" class="control-label">Name</label>
          <input type="text" class="form-control" id="topic-name" name="topicName"
                 ng-model="topic.name" required>
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      <div class="alerts">
        <div ng-repeat="alert in alerts.topic">
          <div alert type="{{alert.type}}" close="closeAlert($index, 'topic')">
            {{alert.msg}}
          </div>
        </div>
      </div>
    </div>

    <div tab heading="Audit">
      <h2 class="page-header">Audit Logs</h2>
      <div class="audit-logs">
        <div class="table-responsive">
          <table class="table table-striped">
            <tr><th>Action</th><th>User ID</th><th>Team ID</th><th>Date</th></tr>
            <tr ng-repeat="audit in audits"><td>{{ audit.action }}</td><td>{{ audit.user_id }}</td><td>{{ audit.team_id }}</td><td>{{ audit.created_at }}</td></tr>
          </table>
        </div>
      </div>
    </div>

  </div>
</div>

